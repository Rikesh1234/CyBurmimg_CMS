<!-- Meta tags and title -->
<%- include('../partials/header/meta_tags') %>
<title>Goodwill Cleaning</title>

<!-- Include stylesheets and links -->
<%- include('../partials/header/links') %>

<!-- Desktop Navigation -->
<%- include('../partials/header/desktop_navigation') %>

<!-- Mobile Navigation -->
<%- include('../partials/header/mobile_navigation') %>

<div class="inner-list-hero my-3">
    <div class="list-overlay">
      <div class="container">
        <div class="list-contains">
          <div class="title" data-aos="fade-up">Package</div>
          <ul class="breadcrumb" data-aos="fade-up">
            <li>
              <a href="/">Home</a>
            </li>
            <li><i class="bx bx-chevron-right"></i></li>
            <li>
              <a class="active">Package</a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
<!-- Package Section -->
<div class="package-section">
    <div class="container">
      <div class="tagline" data-aos="fade-up">Price & Plans</div>
      <div class="title" data-aos="fade-up">Choose Your Perfect Plans</div>
      <div class="row gap-6">
        <% if (packages && packages.length > 0) { %>
          <% packages.forEach(function(package) { %>
            <div class="package-card col-12 col-md-2 pb-4 mb-3" data-aos="fade-up">
              <div class="icon-container">
                <!-- Replace with the correct image path if applicable -->
                <img class="w-100" src='/images/small_logo.png' alt="<%= package.title %>" />
              </div>
              <div class="package-info">
                <div class="heading"><%= package.title %></div>
                <div class="price"><%= package.currency %> <%= package.price %></div>
                <ul>
                  <!-- Iterate over 'includes' instead of 'features' -->
                  <% if (Array.isArray(package.includes)) { %>
                    <% package.includes.forEach(function(item) { %>
                      <li><i class="fa-solid fa-check"></i> <%= item %></li>
                    <% }) %>
                  <% } else { %>
                    <li>No includes available.</li>
                  <% } %>
                </ul>
                <a href="#" class="btn btn-primary btn-round mr-md-4 py-2 px-4" data-bs-toggle="modal" data-bs-target="#packageModel-<%= package._id %>">
                  Get Started <span class="ion-ios-arrow-forward"></span>
              </a>
              </div>
            </div>
          <% }) %>
        <% } else { %>
          <p>No packages available.</p>
        <% } %>
      </div>
    </div>
  </div>
    <div class="pagination" data-aos="fade-up">
      <a href="#">&laquo;</a>
      <a href="#" class="active">1</a>
      <a href="#">2</a>
      <a href="#">3</a>
      <a href="#">4</a>
      <a href="#">5</a>
      <a href="#">&raquo;</a>
    </div>

    <!-- Modal Structure -->
    <% packages.forEach(function(package) { %>
      <div
      class="modal fade"
      id="packageModel-<%= package._id %>"
      tabindex="-1"
      aria-labelledby="packageModel-<%= package._id %>Label"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header border-0">
            <h5
              class="modal-title text-center w-100"
              id="packageModel-<%= package._id %>Label"
            >
              Book Package | <%= package.title %>
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body p-4">
            <!-- Form inside modal -->
            <form class="bookForm" action="javascript:void(0);" method="post">
              <input type="text" value="<%= package.title %>" name="p_name" hidden />
              <div class="row">
                <div class="col-md-12 mb-3">
                  <label for="name-<%= package._id %>" class="form-label">Name</label>
                  <input
                    type="text"
                    class="form-control"
                    name="name"
                    id="name-<%= package._id %>"
                    placeholder="Enter your name"
                    required
                  />
                </div>
                <div class="col-md-12 mb-3">
                  <label for="email-<%= package._id %>" class="form-label">Email</label>
                  <input
                    type="email"
                    class="form-control"
                    name="email"
                    id="email-<%= package._id %>"
                    placeholder="Enter your email"
                    required
                  />
                </div>
              </div>
              <div class="row">
                <div class="col-md-6 mb-3">
                  <label for="address-<%= package._id %>" class="form-label"
                    >Address</label
                  >
                  <input
                    type="text"
                    class="form-control"
                    name="address"
                    id="address-<%= package._id %>"
                    placeholder="Enter your address"
                    required
                  />
                </div>
                <div class="col-md-6 mb-3">
                  <label for="phone-<%= package._id %>" class="form-label"
                    >Phone Number</label
                  >
                  <input
                    type="tel"
                    class="form-control"
                    name="phone"
                    id="phone-<%= package._id %>"
                    placeholder="Enter your phone number"
                    required
                  />
                </div>
              </div>
              <div class="mb-3">
                <label for="message-<%= package._id %>" class="form-label"
                  >Message</label
                >
                <textarea
                  class="form-control"
                  id="message-<%= package._id %>"
                  name="message"
                  rows="3"
                  placeholder="Enter your message"
                  required
                ></textarea>
              </div>
              <div class="modal-footer border-0 d-flex justify-content-center">
                <button type="submit" class="btn btn-primary px-4">Submit</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  <% }) %>

<!-- Include Footer -->
<%- include('../partials/footer/footer') %>

<!-- Include Scripts -->
<%- include('../partials/footer/scripts') %>
